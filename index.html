<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Turnamen Padel Nasional 2025 ‚Äî Microsite</title>
  <meta name="description" content="Microsite turnamen padel: pendaftaran, leaderboard, galeri, dan klaim bonus new member." />
  <style>
    :root{
      --bg:#0b0f1a; --card:#0f1830; --accent:#ffd13a; --muted:#9aa3c4;
      --glass: rgba(255,255,255,0.04);
      --maxw:1100px;
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,'Poppins',sans-serif;background:linear-gradient(180deg,var(--bg),#10162a);color:#eef2ff;}
    header{max-width:var(--maxw);margin:24px auto;padding:20px;display:flex;align-items:center;gap:20px}
    .logo{width:68px;height:68px;background:linear-gradient(135deg,#ffd13a,#ff8a00);border-radius:12px;display:flex;align-items:center;justify-content:center;color:#081023;font-weight:700;font-size:20px}
    .site-title h1{margin:0;font-size:1.2rem;color:var(--accent)}
    .site-title p{margin:2px 0 0;font-size:0.9rem;color:var(--muted)}
    main{max-width:var(--maxw);margin:0 auto;padding:18px}

    .grid{display:grid;grid-template-columns:1fr 380px;gap:18px}
    @media(max-width:980px){.grid{grid-template-columns:1fr}}

    /* Hero / Event details */
    .hero{background:var(--card);padding:22px;border-radius:14px;box-shadow:0 6px 30px rgba(2,6,23,0.6)}
    .hero h2{margin:0;font-size:1.4rem;color:var(--accent)}
    .hero p{color:var(--muted);margin-top:10px}
    .meta{display:flex;gap:12px;margin-top:14px;flex-wrap:wrap}
    .meta .chip{background:var(--glass);padding:8px 12px;border-radius:10px;font-size:0.9rem;color:var(--muted)}

    /* Form */
    .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:18px;border-radius:12px}
    form .row{display:flex;gap:10px}
    form input, form select{width:100%;padding:10px;border-radius:10px;border:none;background:rgba(255,255,255,0.03);color:#eef2ff}
    form label{font-size:0.85rem;color:var(--muted);margin-bottom:6px;display:block}
    .btn{background:linear-gradient(90deg,#ff7b00,#ffb100);padding:12px;border-radius:10px;border:none;color:#07101a;font-weight:700;cursor:pointer}
    .muted{color:var(--muted);font-size:0.9rem}

    /* Sidebar */
    .sidebar{position:sticky;top:18px}
    .count{background:linear-gradient(90deg,#081528,rgba(255,255,255,0.02));padding:16px;border-radius:12px;text-align:center}
    .count h3{margin:0;color:var(--accent)}
    .count p{margin:6px 0 0;color:var(--muted)}

    /* Leaderboard */
    .leaderboard{margin-top:18px}
    table{width:100%;border-collapse:collapse}
    th,td{padding:10px;text-align:left;border-bottom:1px solid rgba(255,255,255,0.03)}
    th{color:var(--muted);font-size:0.85rem}
    td .name{font-weight:600}
    .rank{width:40px;font-weight:700;color:var(--accent)}

    /* Gallery */
    .gallery{display:grid;grid-template-columns:repeat(3,1fr);gap:8px;margin-top:18px}
    @media(max-width:560px){.gallery{grid-template-columns:repeat(2,1fr)}}
    .gallery img{width:100%;height:100px;object-fit:cover;border-radius:8px;cursor:pointer;display:block}

    /* Utilities */
    .small{font-size:0.85rem;color:var(--muted)}
    .hidden{display:none}
    .flex{display:flex;gap:8px;align-items:center}

    /* Footer */
    footer{max-width:var(--maxw);margin:28px auto;padding:18px;color:var(--muted);text-align:center}

    /* Modal Lightbox */
    .modal{position:fixed;inset:0;background:rgba(2,8,22,0.75);display:flex;align-items:center;justify-content:center;z-index:60;padding:20px}
    .modal .box{max-width:900px;width:100%;background:#071025;padding:18px;border-radius:12px}
    .modal img{width:100%;height:auto;border-radius:8px}

    /* Admin area small */
    .admin{margin-top:12px;display:flex;gap:8px;flex-direction:column}
    .export{background:#122536;padding:10px;border-radius:8px;color:var(--muted);cursor:pointer}
  </style>
</head>
<body>
  <header>
    <div class="logo">PDL</div>
    <div class="site-title">
      <h1>Turnamen Padel Nasional 2025</h1>
      <p>Event komunitas ‚Äî Daftar. Main. Menang. Klaim Bonus New Member (opsional dan sesuai persetujuan).</p>
    </div>
  </header>

  <main>
    <div class="grid">
      <section>
        <div class="hero card">
          <h2>Turnamen Padel ‚Äî Seri [Kota]</h2>
          <p>Gabung turnamen padel komunitas dengan hadiah menarik, foto galeri final, dan leaderboard live. Pendaftaran gratis (atau biaya ringan tergantung penyelenggara).</p>

          <div class="meta">
            <div class="chip">üìÖ 15 Des 2025</div>
            <div class="chip">üìç Lapangan Padel Sentral</div>
            <div class="chip">‚è± Kuota: 64 Tim</div>
            <div class="chip">üéÅ Hadiah: Total Jutaan</div>
          </div>

          <div style="margin-top:16px" class="small">Syarat: usia 18+ (centang saat daftar). Data yang kami minta hanya untuk keperluan info event & pengumuman‚Äîtidak meminta nomor rekening pada tahap pendaftaran.</div>

          <!-- Leaderboard -->
          <div class="leaderboard card" id="leaderboardCard" style="margin-top:18px">
            <h3 style="margin-top:0;color:var(--accent)">üèÖ Leaderboard</h3>
            <div class="small">Top 10 tim berdasarkan poin turnamen (data bisa diupdate oleh admin).</div>
            <div style="overflow:auto;margin-top:10px">
              <table id="leaderboardTable">
                <thead>
                  <tr><th class="rank">#</th><th>Tim</th><th>Skor</th></tr>
                </thead>
                <tbody></tbody>
              </table>
            </div>

            <div class="admin">
              <div class="small">Admin quick add (privat):</div>
              <div style="display:flex;gap:8px;">
                <input id="adminName" placeholder="Nama Tim / Pemain" />
                <input id="adminScore" placeholder="Skor" style="width:90px" />
                <button class="btn" id="adminAdd">Tambahkan</button>
              </div>
              <div style="display:flex;gap:8px;margin-top:8px"><button class="export" id="exportLeaderboard">Export CSV</button><button class="export" id="resetLeaderboard">Reset</button></div>
            </div>

          </div>

          <!-- Gallery -->
          <div class="card" style="margin-top:18px">
            <h3 style="margin:0;color:var(--accent)">üì∏ Galeri Turnamen</h3>
            <div class="gallery" id="gallery">
              <!-- placeholder images -> user can replace -->
              <img src="https://picsum.photos/id/1011/800/600" alt="gallery1" data-full="https://picsum.photos/id/1011/1200/800">
              <img src="https://picsum.photos/id/1025/800/600" alt="gallery2" data-full="https://picsum.photos/id/1025/1200/800">
              <img src="https://picsum.photos/id/1027/800/600" alt="gallery3" data-full="https://picsum.photos/id/1027/1200/800">
              <img src="https://picsum.photos/id/1043/800/600" alt="gallery4" data-full="https://picsum.photos/id/1043/1200/800">
              <img src="https://picsum.photos/id/1050/800/600" alt="gallery5" data-full="https://picsum.photos/id/1050/1200/800">
              <img src="https://picsum.photos/id/1062/800/600" alt="gallery6" data-full="https://picsum.photos/id/1062/1200/800">
            </div>
          </div>

        </div>
      </section>

      <aside class="sidebar">
        <div class="card">
          <h3 style="margin:0;color:var(--accent)">üîó Daftar Sekarang</h3>
          <p class="muted">Isi data minimal. Jangan minta rekening atau data keuangan. Klaim hadiah atau bonus hanya melalui proses verifikasi pemenang di kanal privat.</p>

          <form id="regForm" style="margin-top:12px">
            <label>Nama Lengkap</label>
            <input id="r_name" required placeholder="Nama Tim / Pemain" />
            <label>Nomor WhatsApp</label>
            <input id="r_wa" required placeholder="08xx... (WA aktif)" />
            <label>Email</label>
            <input id="r_email" type="email" required placeholder="email@contoh.com" />
            <label>Kota / Klub (opsional)</label>
            <input id="r_city" placeholder="Jakarta / Bandung" />
            <div style="margin-top:8px" class="small">
              <input id="r_agree" type="checkbox" /> <label for="r_agree">Saya berusia 18+ dan setuju S&amp;K</label>
            </div>
            <div style="margin-top:12px;display:flex;gap:8px">
              <button class="btn" type="submit">Daftar</button>
              <button id="downloadRegs" class="export" type="button">Download CSV</button>
            </div>
          </form>

          <div style="margin-top:12px" class="count">
            <h3 id="spots">Kuota tersisa: 64</h3>
            <p class="small">Pendaftaran: <span id="regCount">0</span> peserta terdaftar</p>
          </div>

          <div style="margin-top:12px" class="card small">
            <div>üéÅ Promo untuk peserta:</div>
            <div style="margin-top:8px"><a id="bonusLink" href="#" class="btn" style="display:inline-block;background:linear-gradient(90deg,#28a745,#2ecb5a);color:#fff;text-decoration:none">Klaim BONUS NEW MEMBER</a></div>
            <div class="small" style="margin-top:8px;color:var(--muted)">Link ini bersifat opsional ‚Äî hanya peserta yang memilih menerima info promo akan dikirimi instruksi via WA/email.</div>
          </div>

        </div>

        <div style="margin-top:12px" class="card small">
          <h4 style="margin:0;color:var(--accent)">Quick Tips Promosi</h4>
          <ol>
            <li>Bagikan link microsite ke klub & toko peralatan</li>
            <li>Gunakan referral: +1 bagi setiap team yang diajak</li>
            <li>Live-stream final & tampilkan leaderboard</li>
          </ol>
        </div>

      </aside>
    </div>
  </main>

  <footer>
    ¬© 2025 Turnamen Padel Nasional ‚Äî Privacy & Terms berlaku. Data pendaftar hanya digunakan untuk kepentingan event.
  </footer>

  <!-- Lightbox modal -->
  <div id="modal" class="modal hidden" style="display:none">
    <div class="box">
      <button id="closeModal" style="float:right;background:#081528;color:var(--muted);border:none;padding:6px 8px;border-radius:8px;cursor:pointer">Tutup</button>
      <img id="modalImg" src="" alt="" />
    </div>
  </div>

  <script>
    // Basic data stores (localStorage keys)
    const LS_REGS = 'padel_regs_v1';
    const LS_LB = 'padel_lb_v1';

    // Utils
    function loadJSON(key, fallback){try{const v=localStorage.getItem(key);return v?JSON.parse(v):fallback}catch(e){return fallback}}
    function saveJSON(key,val){localStorage.setItem(key,JSON.stringify(val))}

    // Registration
    const regForm = document.getElementById('regForm');
    const regCountEl = document.getElementById('regCount');
    const spotsEl = document.getElementById('spots');
    const downloadRegs = document.getElementById('downloadRegs');
    const bonusLink = document.getElementById('bonusLink');

    let regs = loadJSON(LS_REGS, []);
    let lb = loadJSON(LS_LB, [
      {name:'Tim Merah',score:95},
      {name:'Tim Biru',score:88},
      {name:'Tim Kuning',score:82}
    ]);
    const MAX_SPOTS = 64;

    function refreshRegs(){
      regCountEl.textContent = regs.length;
      const left = MAX_SPOTS - regs.length;
      spotsEl.textContent = `Kuota tersisa: ${left}`;
      if(left<=0){document.querySelector('#regForm button').disabled=true}
    }

    function toCSV(rows){
      if(!rows.length) return '';
      const keys = Object.keys(rows[0]);
      const lines = [keys.join(',')];
      for(const r of rows){
        lines.push(keys.map(k=>`"${(r[k]||'').toString().replace(/"/g,'""')}"`).join(','));
      }
      return lines.join('\n');
    }

    regForm.addEventListener('submit', e=>{
      e.preventDefault();
      const name = document.getElementById('r_name').value.trim();
      const wa = document.getElementById('r_wa').value.trim();
      const email = document.getElementById('r_email').value.trim();
      const city = document.getElementById('r_city').value.trim();
      const agree = document.getElementById('r_agree').checked;
      if(!agree){alert('Kamu harus menyetujui syarat & ketentuan (18+)');return}
      const entry = {name,wa,email,city,ts:new Date().toISOString()};
      regs.push(entry); saveJSON(LS_REGS, regs); refreshRegs();
      // show a thank you toast
      alert('Pendaftaran diterima! Cek WhatsApp/Email untuk konfirmasi.');
      regForm.reset();
      // optionally: open bonus link if they agreed to promos
    });

    downloadRegs.addEventListener('click', ()=>{
      const csv = toCSV(regs);
      if(!csv) return alert('Belum ada pendaftar.');
      const blob = new Blob([csv],{type:'text/csv'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a'); a.href = url; a.download = 'pendaftaran_padel.csv'; a.click();
      URL.revokeObjectURL(url);
    });

    // Leaderboard handling
    const lbTableBody = document.querySelector('#leaderboardTable tbody');
    function renderLB(){
      lb.sort((a,b)=>b.score-a.score);
      lbTableBody.innerHTML='';
      lb.slice(0,50).forEach((row,i)=>{
        const tr = document.createElement('tr');
        tr.innerHTML = `<td class="rank">${i+1}</td><td><div class="name">${escapeHtml(row.name)}</div></td><td>${row.score}</td>`;
        lbTableBody.appendChild(tr);
      });
      saveJSON(LS_LB, lb);
    }
    function escapeHtml(s){return String(s).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;')}

    document.getElementById('adminAdd').addEventListener('click', ()=>{
      const name = document.getElementById('adminName').value.trim();
      const score = Number(document.getElementById('adminScore').value.trim()||0);
      if(!name) return alert('Isi nama tim');
      lb.push({name,score}); renderLB(); document.getElementById('adminName').value=''; document.getElementById('adminScore').value='';
    });

    document.getElementById('exportLeaderboard').addEventListener('click', ()=>{
      const csv = toCSV(lb.map(r=>({name:r.name,score:r.score}))); if(!csv) return alert('Leaderboard kosong');
      const blob = new Blob([csv],{type:'text/csv'}); const url=URL.createObjectURL(blob); const a=document.createElement('a'); a.href=url;a.download='leaderboard.csv'; a.click(); URL.revokeObjectURL(url);
    });
    document.getElementById('resetLeaderboard').addEventListener('click', ()=>{if(confirm('Reset leaderboard?')){lb=[];renderLB();}}
    );

    // Gallery lightbox
    const modal = document.getElementById('modal');
    const modalImg = document.getElementById('modalImg');
    document.getElementById('closeModal').addEventListener('click', ()=>{modal.style.display='none'});
    document.querySelectorAll('#gallery img').forEach(img=>{
      img.addEventListener('click', ()=>{
        modal.style.display='flex'; modalImg.src = img.dataset.full || img.src;
      });
    });

    // Spots & initial render
    refreshRegs(); renderLB();

    // Bonus link default (ganti ke domain kamu)
    bonusLink.href = 'https://contohbonuslink.com';

    // Simple auto-sample data (for demo) - remove in production
    if(lb.length===0){lb=[{name:'Tim Merah',score:95},{name:'Tim Biru',score:88}];saveJSON(LS_LB,lb);} renderLB();

    // Small helper: clear local storage button via console: localStorage.removeItem('padel_regs_v1')
  </script>
</body>
</html>
